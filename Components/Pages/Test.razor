@page "/test"

<button @onclick="TestDbConnection">Teste DB-Verbindung</button>

<p>@message</p>
<p>Testing</p>

@code {
    private string message = "";

    private async Task TestDbConnection()
    {
        string connectionString = "Server=localhost;Port=3308;Database=notenmanager;User=DBUser;Password=Espas8049;AllowUserVariables=True;";

        try
        {
            using var db = new MySqlConnector.MySqlConnection(connectionString);
            await db.OpenAsync();
            message = "Verbindung erfolgreich!";
        }
        catch (Exception ex)
        {
            message = "Fehler: " + ex.Message;
        }

        // UI updaten
        StateHasChanged();
    }
}
